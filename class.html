
<cxx-clause id="class" number="9">
  <h1>Classes</h1>

  <!-- =============
       Class members
       ============= -->

  <cxx-section id="class.mem" number="2">
    <h1>Class members</h1>

    Modify the grammar in 9.2 to allow a 
    <cxx-grammarterm>requires-clause</cxx-grammarterm> for member declarations.

    <p class="quoted">
    <bnf-grammar>
      <bnf-rule>member-declarator</bnf-rule>
      <bnf-alt>
        declarator 
        <bnf-opt>virt-specifier-seq</bnf-opt>
        <ins><bnf-opt>requires-clause</bnf-opt></ins>
        <bnf-opt>pure-specifier-seq</bnf-opt>
      </bnf-alt>
    </bnf-grammar>
    </p>

    Insert the following after paragraph 8, explaining where a
    <cxx-grammarterm>requires-clause</cxx-grammarterm> can appear
    and that its <cxx-grammarterm>constraint-expression</cxx-grammarterm>
    can refer to parameters.

    <p class="quoted" number="9">
    A <cxx-grammarterm>requires-clause</cxx-grammarterm> 
    (<cxx-ref to="temp"></cxx-ref>) shall only appear
    in a <cxx-grammarterm>member-declarator</cxx-grammarterm> if its
    <cxx-grammarterm>declarator</cxx-grammarterm> is a function declarator.

    The <cxx-grammarterm>requires-clause</cxx-grammarterm> associates its 
    <cxx-grammarterm>constraint-expression</cxx-grammarterm> with the 
    member function.

    <cxx-example class="inline">
    <cxx-codeblock>
  struct A {
    A(int*) requires true;  // <i>OK: constrained constructor</i>
    ~A() requires true;     // <i>OK: constrained destructor</i>
    void f() requires true; // <i>OK: constrained member function</i>
    int x requires true;    // <i>error: constrained non-static data member</i>
  };
    </cxx-codeblock>
    </cxx-example>
    </p>

    <p class="quoted">
    The names of parameters in a function declarator are visible in the
    <cxx-grammarterm>constraint-expression</cxx-grammarterm> of the
    <cxx-grammarterm>requires-clause</cxx-grammarterm>. </p>
  </cxx-section> <!-- class.mem -->

</cxx-clause>
